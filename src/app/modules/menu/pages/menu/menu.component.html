<div class="flex-row" >
  <mat-card-header>
    <mat-card-title style="margin: 30px">Menu</mat-card-title>
  </mat-card-header>
  <div style="margin-left: auto">
    <!-- <mat-form-field
      appearance="fill"
      *ngIf="categoriesList$ | async as categoriesList"
    >
      <mat-label>Food categories</mat-label>
      <mat-select [formControl]="categories" multiple>
        <mat-select-trigger
          *ngIf="categories?.value?.length === categoriesList?.length"
          >Filter by category</mat-select-trigger
        >
        <mat-option
          *ngFor="let category of categoriesList"
          [value]="category"
          >{{ category.name }}</mat-option
        >
      </mat-select>
    </mat-form-field> -->

    <button
      *ngIf="(userInfo | async).role === 'admin'"
      style="margin-right: 20px; margin-top:20px"
      (click)="newItem()"
      color="accent"
      mat-mini-fab
    >
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>

<mat-card *ngFor="let category of categoriesList$ | async" style="margin:10px">
  <mat-card-header>
    <mat-card-title style="margin: 30px">{{category.name | titlecase}}</mat-card-title>
  </mat-card-header>

  <div class="flex-row" style="flex-wrap: wrap; justify-content: center;">
    <mat-card
      *ngFor="let item of getItemsForCategory(category.id) | async"
      class="example-card"
      style="margin: 10px; position: relative; width: 150px"
    >
      <img mat-card-image [src]="item.picture" />
     <!--  <mat-card-header
        class="flex-row flex-center"
        style="justify-content: space-between"
      > -->
        <!-- <div mat-card-avatar class="example-header-image"></div> -->
        <!-- <mat-card-title>{{ item.name }}</mat-card-title> -->
<mat-card-subtitle>{{ item.name }}</mat-card-subtitle>


      <!-- </mat-card-header> -->
      <mat-card-content>
        <p>
          {{ item.description }}
        </p>
        <p>
          {{ item.price | currency: "HRK" }}
        </p>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button color="primary" (click)="addToOrder(item)">+</button>
        {{ getItemAmount(item) | async }}
        <button mat-button color="primary" (click)="removeFromOrder(item)">
          -
        </button>
        <button
          color="accent"
          mat-mini-fab
          style="position: absolute; top: 2px; right: 2px"
          *ngIf="(userInfo | async).role === 'admin'"
          (click)="editItem(item)"
        >
          <mat-icon>edit</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</mat-card>
